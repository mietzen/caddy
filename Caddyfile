{
	dynamic_dns {
		provider opnsense {
			host {$OPNSENSE_HOSTNAME}
			api_key {file./run/secrets/opnsense_api_key}
			api_secret_key {file./run/secrets/opnsense_api_secret_key}
			dns_service {$OPNSENSE_DNS_SERVICE}
			insecure {$OPNSENSE_INSECURE}
			entry_description {$OPNSENSE_ENTRY_DESCRIPTION}
		}
		domains {
			{$BASE_DOMAIN}
		}
		dynamic_domains
		ip_source static {$DOCKER_HOST_IP}
		check_interval 120m
		ttl 1h
		versions ipv4
	}
	email {$ACME_EMAIL}
	acme_dns porkbun {
		api_key {file./run/secrets/porkbun_api_key}
		api_secret_key {file./run/secrets/porkbun_api_secret_key}
	}
	storage file_system {
		root /caddy/data
	}
	log {
		format console
	}
}

import /caddy/conf.d/*.caddy
